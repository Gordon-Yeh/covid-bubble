(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(e){e.exports=JSON.parse('{"headers":{"Login":"Login","Landing":"Welcome","Signup":"Signup","AddNode":"Add Contact","Dashboard":"Welcome Back"},"subtitles":{"Login":"sign in to your existing account","Landing":"Cobu is a place where you can track you social bubble with your friends and family","Signup":"sign up for a free account to keep track of your bubble now!","AddNode":"add someone into your bubble","Dashboard":""}}')},45:function(e,t,a){e.exports=a(56)},50:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),l=(a(50),a(1)),s=a(12),i=a(8),u=a(4);a(52);function m(e){var t=e.width,a=e.height,c=e.graph,o=e.root,m=e.linkDistance,d=e.forceStrength,b=e.nodeRadius,f=e.linkWidth,p=e.setSelectedNode,g=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=function(e,t){if(null===t)return[[],[]];var a=[{id:t.id,data:Object(s.a)(Object(s.a)({},t),{},{name:"You"})}],n=[],r=[t.id],c=new Set;for(;r.length>0;){var o=r.shift();if(console.log("parent:",o),void 0!==o&&void 0!==e[o]&&!c.has(o)){var l=e[o];console.log("children:",l),c.add(o);for(var i=0;i<l.length;i++){var u=l[i];c.has(u.id)||(a.push({id:u.id,data:Object(s.a)({},u)}),r.push(u.id)),n.push({source:o,target:u.id})}console.log("queue:",r)}}return console.log("_nodes:",a),console.log("_links:",n),[a,n]}(c,o),n=Object(l.a)(e,2),r=n[0],h=n[1],v=u.f(g.current),E=null;function N(e){switch(e.id){case o.id:return i.primary;case E:return i.secondary;default:return i.dark}}function y(e){return e.source.id===E||e.target.id===E?i.secondary:i.dark}console.log("nodes:",r),console.log("links:",h);var w,k=u.e(r).force("charge",u.d().strength(d)).force("link",u.c(h).distance(m).id((function(e){return e.id}))).force("charge",u.d()).force("center",u.b(t/2,a/2)),j=v.append("g").attr("stroke-opacity",.6).selectAll("line").data(h).join("line").attr("stroke-width",f).attr("stroke",y),S=v.append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll("g").data(r).join("g"),O=S.append("circle").attr("r",b).attr("fill",N).call((w=k,u.a().on("start",(function(e){e.active||w.alphaTarget(.3).restart(),e.subject.fx=e.subject.x,e.subject.fy=e.subject.y})).on("drag",(function(e){e.subject.fx=e.x,e.subject.fy=e.y})).on("end",(function(e){e.active||w.alphaTarget(0),e.subject.fx=null,e.subject.fy=null})))).on("click",(function(e,t){console.log("click",this,t),E=t.id,p(t.data)})),x=S.append("text").text((function(e){return e.data&&e.data.name?e.data.name:e.id})).attr("text-anchor","middle").attr("stroke-width","1px");return O.append("title").text((function(e){return e.id})),k.on("tick",(function(){j.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})).attr("stroke",y),O.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})).attr("fill",N),x.attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y}))})),function(){k.stop(),j.remove(),S.remove()}})),r.a.createElement("svg",{width:t,height:a,viewBox:"0 0 ".concat(t," ").concat(a),ref:g})}m.defaultProps={graph:{},root:null,setSelectedNode:function(){},width:500,height:500,linkDistance:300,forceStrength:-20,nodeRadius:40,linkWidth:3};var d=a(2),b=a.n(d),f=a(3);a(53),a(54);function p(e){var t=e.onLogin,a=e.onSignup;e.onNoAccount;return r.a.createElement("div",{className:"text-left h5"},r.a.createElement("p",null,r.a.createElement("button",{type:"button",className:"btn btn-primary mr-3",onClick:t},"Login"),r.a.createElement("button",{type:"button",className:"btn btn-warning text-white",onClick:a},"Signup")))}function g(e){var t=e.onSubmit,a=e.onBack,c=h(""),o=Object(l.a)(c,2),s=o[0],i=o[1],u=h(""),m=Object(l.a)(u,2),d=m[0],b=m[1],f=Object(n.useState)(!1),p=Object(l.a)(f,2),g=p[0],v=p[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(s,d)}},r.a.createElement("div",{className:"row g-3 align-items-center mb-3"},r.a.createElement("div",{className:"col-3"},r.a.createElement("label",{htmlFor:"email",className:"col-form-label"},"Email")),r.a.createElement("div",{className:"col-7"},r.a.createElement("input",{id:"emai",type:"email",className:"form-control",value:s,onChange:i,required:!0}))),r.a.createElement("div",{className:"row g-3 align-items-center mb-3"},r.a.createElement("div",{className:"col-3"},r.a.createElement("label",{htmlFor:"password",className:"col-form-label"},"Password")),r.a.createElement("div",{className:"col-7"},r.a.createElement("input",{id:"password",type:g?"text":"password",className:"form-control",value:d,onChange:b,required:!0})),r.a.createElement("div",{className:"col-2"},r.a.createElement("span",{onClick:function(){v(!g)}},"Show"))),r.a.createElement("div",{className:"row g-3 justify-content-end mb-3"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("button",{type:"button",className:"btn btn-light btn-custom",onClick:a},"Back")),r.a.createElement("div",{className:"col-auto"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Login"))))}function h(e){var t=Object(n.useState)(e),a=Object(l.a)(t,2),r=a[0],c=a[1];return[r,function(e){c(e.target.value)}]}function v(e){var t=e.onSubmit,a=e.onBack,c=E(""),o=Object(l.a)(c,2),s=o[0],i=o[1],u=E(""),m=Object(l.a)(u,2),d=m[0],b=m[1],f=E(""),p=Object(l.a)(f,2),g=p[0],h=p[1],v=E(""),N=Object(l.a)(v,2),y=N[0],w=N[1],k=E(""),j=Object(l.a)(k,2),S=j[0],O=j[1],x=Object(n.useState)(!1),C=Object(l.a)(x,2),B=C[0],A=C[1];return console.log("new state!",s,d,g,y,S,B),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t({firstName:s,lastName:d,email:g,username:y,password:S})}},r.a.createElement("div",{className:"row g-3 align-items-center mb-3"},r.a.createElement("div",{className:"col-4 col-md-3"},r.a.createElement("label",{htmlFor:"firstname",className:"col-form-label"},"First Name")),r.a.createElement("div",{className:"col-8 col-md-7"},r.a.createElement("input",{id:"firstname",type:"text",className:"form-control",value:s,onChange:i,required:!0}))),r.a.createElement("div",{className:"row g-3 align-items-center mb-3"},r.a.createElement("div",{className:"col-4 col-md-3"},r.a.createElement("label",{htmlFor:"lastname",className:"col-form-label"},"Last Name")),r.a.createElement("div",{className:"col-8 col-md-7"},r.a.createElement("input",{id:"lastname",type:"text",className:"form-control",value:d,onChange:b,required:!0}))),r.a.createElement("div",{className:"row g-3 align-items-center mb-3"},r.a.createElement("div",{className:"col-4 col-md-3"},r.a.createElement("label",{htmlFor:"email",className:"col-form-label"},"Email")),r.a.createElement("div",{className:"col-8 col-md-7"},r.a.createElement("input",{id:"emai",type:"email",className:"form-control",value:g,onChange:h,required:!0}))),r.a.createElement("div",{className:"row g-3 align-items-center mb-3"},r.a.createElement("div",{className:"col-4 col-md-3"},r.a.createElement("label",{htmlFor:"username",className:"col-form-label"},"Username")),r.a.createElement("div",{className:"col-8 col-md-7"},r.a.createElement("input",{id:"username",type:"text",className:"form-control",value:y,onChange:w,required:!0}))),r.a.createElement("div",{className:"row g-3 align-items-center mb-3"},r.a.createElement("div",{className:"col-4 col-md-3"},r.a.createElement("label",{htmlFor:"password",className:"col-form-label"},"Password")),r.a.createElement("div",{className:"col-6 col-md-7"},r.a.createElement("input",{id:"password",type:B?"text":"password",className:"form-control",value:S,onChange:O,required:!0})),r.a.createElement("div",{className:"col-2"},r.a.createElement("span",{onClick:function(){A(!B)}},"Show")),r.a.createElement("span",{className:"form-text"},"Must be 8-20 characters long.")),r.a.createElement("div",{className:"row g-3 justify-content-end mb-3"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("button",{type:"button",className:"btn btn-light mr-3",onClick:a},"Back"),r.a.createElement("button",{type:"submit",className:"btn btn-warning text-white"},"Signup"))))}function E(e){var t=Object(n.useState)(e),a=Object(l.a)(t,2),r=a[0],c=a[1];return[r,function(e){c(e.target.value)}]}function N(e){var t=e.onSubmit,a=e.onBack,c=y(""),o=Object(l.a)(c,2),s=o[0],i=o[1],u=y(""),m=Object(l.a)(u,2),d=m[0],b=m[1],f=y(""),p=Object(l.a)(f,2),g=p[0],h=p[1],v=Object(n.useState)(!0),E=Object(l.a)(v,2),N=E[0],w=E[1];return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(s,d.length>0?d:null)}},r.a.createElement("div",{className:"row g-3 align-items-center mb-3"},r.a.createElement("div",{className:"col-3 col-md-2"},r.a.createElement("label",{className:"col-form-label"},"Name",r.a.createElement("span",{className:"red"},"*"))),r.a.createElement("div",{className:"col-9 col-md-8"},r.a.createElement("input",{type:"text",className:"form-control",value:s,onChange:i,placeholder:"name of person"}))),r.a.createElement("div",{className:"row g-3 align-items-center mb-3"},r.a.createElement("div",{className:"col-12 col-md-auto"},r.a.createElement("label",{className:"col-form-label"},"Do you know their username?")),r.a.createElement("div",{className:"col-3 col-md-auto"},r.a.createElement("input",{className:"form-check-input mr-1",type:"radio",onChange:function(){w(!0)},checked:N}),r.a.createElement("label",null,"Yes")),r.a.createElement("div",{className:"col-3 col-md-auto"},r.a.createElement("input",{className:"form-check-input mr-1",type:"radio",onChange:function(){w(!1)},checked:!N}),r.a.createElement("label",null,"No"))),N&&r.a.createElement("div",{className:"row g-3 align-items-center mb-3"},r.a.createElement("div",{className:"col-3 col-md-2"},r.a.createElement("label",{className:"col-form-label"},"Username")),r.a.createElement("div",{className:"col-9 col-md-8"},r.a.createElement("input",{type:"text",className:"form-control",value:d,onChange:b,placeholder:"username of person"})),r.a.createElement("span",{className:"form-text"},"providing their username allows you to see their bubble, if you don't know you can always set it later")),!N&&r.a.createElement("div",{className:"row g-3 align-items-center mb-3"},r.a.createElement("div",null,"Invite them by email (optional)?"),r.a.createElement("div",{className:"col-2"},r.a.createElement("label",{className:"col-form-label"},"Their email")),r.a.createElement("div",{className:"col-6"},r.a.createElement("input",{type:"email",className:"form-control",value:g,onChange:h})),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{type:"button",className:"btn btn-warning btn-signup"},"Invite"))),r.a.createElement("div",{className:"row g-3 justify-content-end mt-3 mb-3"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("button",{type:"button",className:"btn btn-light btn-custom",onClick:a},"Back")),r.a.createElement("div",{className:"col-auto"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-signup"},"Add")))))}function y(e){var t=Object(n.useState)(e),a=Object(l.a)(t,2),r=a[0],c=a[1];return[r,function(e){c(e.target.value)}]}function w(e){var t=e.bubbleSize,a=e.onAddNode;return r.a.createElement("div",{className:"text-left h6"},r.a.createElement("p",null,"There's currently\xa0",r.a.createElement("span",{className:"text-primary text-decoration-underline"},t),"\xa0person in your bubble."),r.a.createElement("p",null,r.a.createElement("button",{type:"button",className:"btn btn-primary mr-3",onClick:a},"Add more")))}function k(e){return j.apply(this,arguments)}function j(){return(j=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.status>=200&&t.status<300)){e.next=4;break}return e.abrupt("return",t.json());case 4:return e.abrupt("return",t.json().then((function(e){throw console.log("res.body",e),new Error(e.message)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}p.defaultProps={onLogin:function(){},onSignup:function(){},onNoAccount:function(){}},g.defaultProps={onSubmit:function(e){return console.log(e)},onBack:function(e){return console.log(e)},errors:[]},v.defaultProps={onSubmit:function(e){console.log(e)},onBack:function(e){console.log(e)}},N.defaultProps={onSubmit:function(){},onBack:function(){}},w.defaultProps={bubbleSize:1,onAddNode:function(){}};var S={Origin:window.location.origin},O="https://9tz6yx3e02.execute-api.us-west-2.amazonaws.com/stagging";function x(e){return C.apply(this,arguments)}function C(){return(C=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("CORS_HEADER",S),e.abrupt("return",fetch("".concat(O,"/user/signup"),{method:"POST",headers:S,mode:"cors",credentials:"include",body:JSON.stringify(t)}).then(k));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return A.apply(this,arguments)}function A(){return(A=Object(f.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t,password:a},console.log("CORS_HEADER",S),e.abrupt("return",fetch("".concat(O,"/user/login"),{method:"POST",headers:S,mode:"cors",credentials:"include",body:JSON.stringify(n)}).then(k));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){return L.apply(this,arguments)}function L(){return(L=Object(f.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:t},a&&(n.linkedUsername=a),e.abrupt("return",fetch("".concat(O,"/user/connections"),{method:"POST",headers:S,mode:"cors",credentials:"include",body:JSON.stringify([n])}).then(k));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P,W=a(14);function q(e){e.selectedNode;var t,a=e.bubbleSize,c=e.setBubble,o=e.setUser,s=Object(n.useState)(P.Landing),i=Object(l.a)(s,2),u=i[0],m=i[1],d=Object(n.useState)(null),h=Object(l.a)(d,2),E=h[0],y=h[1];function k(){return(k=Object(f.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleSignup"),e.prev=1,e.next=4,x(t);case 4:a=e.sent,console.log(a),o(a.user),O(P.Dashboard),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),y(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function j(){return(j=Object(f.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleLogin"),e.prev=1,e.next=4,B(t,a);case 4:n=e.sent,c(n.bubble),o(n.user),O(P.Dashboard),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),y(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function S(){return(S=Object(f.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleAddNode"),e.prev=1,e.next=4,D(t,a);case 4:n=e.sent,c(n.bubble),O(P.Dashboard),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),y(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function O(e){y(null),m(e)}switch(u){case P.Login:t=r.a.createElement(g,{onSubmit:function(e,t){return j.apply(this,arguments)},onBack:function(){return O(P.Landing)}});break;case P.Signup:t=r.a.createElement(v,{onSubmit:function(e){return k.apply(this,arguments)},onBack:function(){return O(P.Landing)}});break;case P.AddNode:t=r.a.createElement(N,{onSubmit:function(e,t){return S.apply(this,arguments)},onBack:function(){return O(P.Dashboard)}});break;case P.Dashboard:t=r.a.createElement(w,{bubbleSize:a,onAddNode:function(){return O(P.AddNode)}});break;default:t=r.a.createElement(p,{onLogin:function(){return O(P.Login)},onSignup:function(){return O(P.Signup)},onNoAccount:function(){return O(P.Dashboard)}})}return r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"dialog-heading"},r.a.createElement("div",{className:"header"},W.headers[u]),r.a.createElement("div",{className:"subtitle"},W.subtitles[u])),r.a.createElement("div",{className:"content"},E&&r.a.createElement("div",{className:"alert alert-warning"},E),t))}!function(e){e.Login="Login",e.Landing="Landing",e.Signup="Signup",e.AddNode="AddNode",e.Dashboard="Dashboard"}(P||(P={})),q.defaultProps={selectedNode:null,bubbleSize:1,setBubble:function(e){},setUser:function(){}};var z=q;a(55);var F=function(){var e=Object(n.useState)({id:0,email:"demo@email.com",firstName:"demo",lastName:"demo",username:"demo"}),t=Object(l.a)(e,2),a=t[0],c=t[1],o=(function(){for(var e={},t=0;t<20;t++){e[t]=[];for(var a=Math.floor(20*Math.random()/3),n=0;n<a;n++){var r=Math.floor(20*Math.random());r===t||e[t].includes(r)||e[t].push({id:r})}}}(),Object(n.useState)({})),s=Object(l.a)(o,2),i=s[0],u=s[1],d=Object(n.useState)({}),b=Object(l.a)(d,2),f=b[0];return b[1],r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"dialog-box"},r.a.createElement(z,{selectedNode:f,bubbleSize:Object.keys(i).length,setBubble:u,setUser:c})),r.a.createElement("div",{className:"bubble-graph"},r.a.createElement(m,{width:window.outerWidth,linkDistance:function(){return window.outerWidth>=576?300:150},linkWidth:function(){return window.outerWidth>=576?2:3},nodeRadius:function(){return window.outerWidth>=576?40:30},height:window.outerHeight,graph:i,root:a})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e){e.exports=JSON.parse('{"primary":"#3D79B8","secondary":"#36E3E1","dark":"#50667D","warning":"#E68B71","danger":"#B83A30"}')}},[[45,1,2]]]);
//# sourceMappingURL=main.0e26a1e0.chunk.js.map